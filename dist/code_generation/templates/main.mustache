import ky from 'ky';

{{types}}
{{#child_collections}}
import { Collection_{{built_collection}} } from "{{ built_collection_path }}"
{{/child_collections}}


export function api(base_url: string, get_auth: () => Promise<any>) {
    return {
        collection(collection_id: {{child_collection_id_types}}) {
            switch(collection_id) {
                {{#child_collections}}
                case "{{collection_id}}":
                    return new Collection_{{built_collection}}([base_url, "{{collection_id}}"], get_auth);
                {{/child_collections}}
                default:
                    throw new Error(`Api does not have the collection ${collection_id}`)
            }
        }
    }
}


